---
inclusion: always
---

# テストファースト開発方針

このプロジェクトでは、テストファースト（TDD）のアプローチで開発を行います。

## 基本ルール

- 実装コードを書く前に、必ずテストを先に書くこと
- Red-Green-Refactor のサイクルに従うこと
  1. Red: まず失敗するテストを書く
  2. Green: テストを通す最小限のコードを実装する
  3. Refactor: テストが通る状態を維持しながらリファクタリングする
- 新しい関数やモジュールを追加する際は、対応するテストファイルを先に作成すること

## テストの書き方

- テストは小さく、焦点を絞って書くこと
- 1つのテストケースでは1つの振る舞いのみを検証すること
- テスト間の依存関係を作らないこと（テストは独立して実行可能であること）
- 適切な場面ではプロパティベーステスト（PBT）を活用すること

## 実装の進め方

- タスクを実行する際は、まずテストファイルを作成・更新してから実装に入ること
- テストが全て通ることを確認してから次のタスクに進むこと
- テストカバレッジを意識し、エッジケースも網羅すること
